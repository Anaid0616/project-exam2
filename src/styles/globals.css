@tailwind base;
@tailwind components;
@tailwind utilities;

/* --------------------------------------------------------------------------
   BASE LAYER
   Global element defaults: typography, colors, focus states, link behavior.
   These styles apply to raw HTML tags (h1, p, a, etc.).
-------------------------------------------------------------------------- */
@layer base {
  /* Default border color for all elements */
  * {
    @apply border-border;
  }

  /* Default page background + text color */
  html,
  body {
    @apply bg-sand text-ink antialiased;
  }

  /* Global heading styles */
  h1 {
    @apply font-display text-3xl sm:text-4xl font-extrabold leading-tight tracking-tight;
  }
  h2 {
    @apply font-display text-2xl sm:text-3xl font-bold leading-snug;
  }
  h3 {
    @apply font-display text-lg sm:text-lg font-semibold leading-snug;
  }

  /* Default paragraph sizing + color */
  p {
    @apply text-[16px] leading-7 text-ink/90;
  }

  /* Link defaults */
  a {
    @apply text-ink no-underline hover:no-underline;
  }

  /* Accessible focus ring for keyboard users */
  :focus-visible {
    outline: none;
    box-shadow: 0 0 0 3px rgb(var(--color-ring) / 0.22),
      0 0 0 6px rgb(var(--color-ring) / 0.12);
    border-radius: 10px;
  }
}

/* --------------------------------------------------------------------------
   COMPONENTS LAYER
   Structured, reusable components such as cards, inputs, buttons, chips,
   and nav link underline animations.
-------------------------------------------------------------------------- */
@layer components {
  /* Generic card container */
  .card {
    @apply bg-shell rounded-app border shadow-elev;
  }

  /* Panel container with padding */
  .panel {
    @apply bg-shell rounded-app border shadow-elev p-4 sm:p-6;
  }

  /* Form input styling */
  .input {
    @apply w-full rounded-app border border-ink/30 bg-white px-4 py-2.5
           outline-none placeholder:text-ink/60
           focus:border-aegean focus:ring-2 focus:ring-aegean/25;
  }

  /* Base button style */
  .btn {
    @apply inline-flex items-center justify-center rounded-app
           px-4 py-2 font-semibold shadow-elev transition-colors
           focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-0
           min-h-[44px] md:min-h-[36px];
  }

  /* Disabled button state */
  .btn:disabled {
    @apply opacity-50 cursor-not-allowed;
  }

  /* Small button variant */
  .btn-sm {
    @apply px-3 py-1.5 min-h-[34px];
  }

  /* Primary Lagoon button */
  .btn-primary {
    @apply bg-lagoon text-black shadow-sm hover:bg-lagoon/90
           focus:ring-2 focus:ring-lagoon/90;
  }

  /* Secondary Coral button */
  .btn-secondary {
    @apply bg-coral text-black hover:bg-coral/90
           focus:ring-2 focus:ring-coral/90;
  }

  /* White/neutral button */
  .btn-white {
    @apply bg-white text-ink border border-ink/20
           hover:bg-ink/5 hover:border-ink/20
           focus:ring-2 focus:ring-ink/20;
  }

  /* Sunset outline button */
  .btn-outline-sunset {
    @apply bg-white border border-sunset text-sunset hover:bg-sunset/90
           focus:ring-2 focus:ring-sunset/90;
  }

  /* Sunset filled button */
  .btn-sunset {
    @apply bg-sunset text-white hover:bg-sunset/90
           focus:ring-2 focus:ring-sunset/90;
  }

  /* Responsive grid layout for cards */
  .grid-cards {
    @apply grid gap-4 sm:grid-cols-2 lg:grid-cols-3;
  }

  /* User role chip (used on profile header) */
  .chip-role {
    @apply inline-flex items-center gap-1 rounded-full
           px-3 py-1 text-sm font-medium
           whitespace-nowrap align-middle
           bg-lagoon/40 text-ink;
  }

  /* ----------------------------------------------------------------------
     NAV LINK UNDERLINE ANIMATION
     Adds a sliding underline to active + hover navigation links.
  ---------------------------------------------------------------------- */
  .nav-link-underline {
    @apply relative px-2 py-1 text-base text-ink/80 hover:text-black;
  }

  /* Underline bar */
  .nav-link-underline::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -2px;
    height: 3px;
    width: 0;
    background: theme('colors.lagoon');
    transition: width 0.2s;
  }

  /* Full underline on hover/active */
  .nav-link-underline:hover::after,
  .nav-link-underline[aria-current='page']::after,
  .nav-link-underline[data-active='true']::after {
    width: 100%;
  }

  /* Smaller nav link variant */
  .nav-link-underline--sm {
    @apply text-sm md:text-base;
  }

  /* Hide Chrome's default date text when value is empty */
  input[type='date'].dateph[value='']::-webkit-datetime-edit {
    color: transparent;
  }
  input[type='date'].dateph:not([value=''])::-webkit-datetime-edit {
    color: inherit;
  }

  /* Day-picker calendar layout fixes */
  .booking-calendar .rdp {
    margin: 0;
  }

  .booking-calendar .rdp-months {
    max-width: none;
    justify-content: center;
  }

  /* Hide scrollbars (used on profile tabs) */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
}

/* --------------------------------------------------------------------------
   UTILITIES LAYER
   One-off utility classes, mostly for layout (bleed sections, scrollbars)
-------------------------------------------------------------------------- */
@layer utilities {
  /* Full-width bleed section (hero images, banners) */
  .bleed {
    width: 100vw;
    position: relative;
    left: 50%;
    right: 50%;
    margin-left: -50vw;
    margin-right: -50vw;
  }

  /* Slightly narrower bleed */
  .bleed-small {
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    width: 90vw;
    max-width: 1200px;
  }
}
